
<html>
<head>
<title>Project 0</title>
<link rel="stylesheet" type="text/css" href="project1.css"></link>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<!--Put your D3 import statement between these two lines-->
    <script src="https://d3js.org/d3.v4.min.js"></script>
<!--Put your D3 import statement between these two lines-->
</head>

<body>
	<div id="partOne">
        <h1>Part One: </h1>
	</div>

    <div id="partTwo">
        <h1>Part Two: </h1>
        <div id="scatterplot">
            <p id="scatterLabel"></p>
        </div>
	</div>

    <div id="partThree">
        <h1>Part Three &amp; Four: </h1>
        <div id="linegraph">
        </div>
	</div>

    <div id="partFive">
        <h1>Part Five: </h1>
        <div id="scatterplotSet">
        </div>
	</div>

    <script type="text/javascript">
        // Put your part one code here ***********************
        d3.csv("../data/anscombe_I.csv", function(data){
          var dataset1 = data;
          checkDataset(dataset1);});
        d3.csv("../data/anscombe_II.csv", function(data){
          var dataset2 = data;
          checkDataset(dataset2);});
        d3.csv("../data/anscombe_III.csv", function(data){
          var dataset3 = data;
          checkDataset(dataset3);});
        d3.csv("../data/anscombe_IV.csv", function(data){
          var dataset4 = data;
          checkDataset(dataset4);});

        // Leave this to test your data uploading. All data uploading should be above this line
        function checkDataset(dataset) {
            if (dataset.length == 11)
                $("#partOne").append("<p>data loaded correctly</p>");
            else
                $("#partOne").append("<p>data loaded incorrectly. Try using the debugger to help you find the bug!</p>");
        }

        // Put your part two code here ***********************
				var xVal = "x"; var yVal = "y";

				// set the dimensions and margins of the graph
        var margin = {top: 20, right: 20, bottom: 30, left: 50};
        var width = 960 - margin.left - margin.right;
        var height = 500 - margin.top - margin.bottom;

				// set the ranges for x and y axes
				var x = d3.scaleLinear().range([0, width]);
				var y = d3.scaleLinear().range([height, 0]);

				// append the svg obgect to the body of the page;
				// append a 'group' element to 'svg';
				// move the 'group' element to the top left margin
				var svg = d3.select("#scatterplot").append("svg")
            				.attr("width", width + margin.left + margin.right)
            				.attr("height", height + margin.top + margin.bottom)
            				.append("g")
            				.attr("transform", "translate("+margin.left + "," + margin.top +")");

				// Get the data
				d3.csv("../data/anscombe_II.csv", function(error,data){
						 if (error) throw error;
             // without parseInt, d3.max is not parsing them to integers; reference:https://stackoverflow.com/questions/30874617/d3-max-didnt-get-the-correct-value
						 data.forEach(function(d){
							 d.x = parseInt(d.x);
						 });

						  // Scale the range of the data
						 x.domain([3, d3.max(data, function(d) {return d[xVal]+1;})]);
						 y.domain([0, d3.max(data, function(d) {return d[yVal]+1;})]);

						 // Add the scatterplot points
						  svg.selectAll("circle")
					       .data(data)
					       .enter()
					       .append("circle")
					       .attr("r", 5)
					       .attr("cx", function(d){ return x(d[xVal]);})
					       .attr("cy", function(d){ return y(d[yVal]);})
					       // .attr("stroke","red")
								 .attr("fill","orange");

			        // Add the X Axis
			        svg.append("g")
			           .attr("transform","translate(0, " + height + ")")
			           .call(d3.axisBottom(x));

			        // Add the Y Axis
			        svg.append("g")
			           .call(d3.axisLeft(y));

								 // Add text labels
						     var xLabel = svg.append("text")
						                     .attr("class", "label")
						                     .text("x-values")
						                     .attr("x", width - 445)
						                     .attr("y", height + 29);

						     var xLabel = svg.append("text")
						                     .attr("class", "label")
						                     .text("y-values")
																 .attr("x",  -232)
						                     .attr("y", -23)
						                     .attr("transform", "rotate(-90)");
					});

        // // Put your part three & four code here ***********************
				var linesvg = d3.select("#linegraph").append("svg")
            				.attr("width", width + margin.left + margin.right)
            				.attr("height", height + margin.top + margin.bottom)
            				.append("g")
            				.attr("transform", "translate("+margin.left + "," + margin.top +")");

				var line_values = d3.line()
														.x(function(d){ return x(d[xVal]);})
					 					        .y(function(d){ return y(d[yVal]);});

				// Get the data
				d3.csv("../data/anscombe_II.csv", function(error,data){
						 if (error) throw error;
             // without parseInt, d3.max is not parsing them to integers; reference:https://stackoverflow.com/questions/30874617/d3-max-didnt-get-the-correct-value
						 data.forEach(function(d){
							 d.x = parseInt(d.x);
						 });

						  // Scale the range of the data
						 x.domain([3, d3.max(data, function(d) {return d[xVal]+1;})]);
						 y.domain([0, d3.max(data, function(d) {return d[yVal]+1;})]);

						 // Add the scatterplot points
						  linesvg.append("path")
					       .datum(data)
					       .attr("stroke","orange")
								 .attr("fill","none")
								 .attr("stroke-width","2px")
								 .attr("d",line_values);

							// linesvg.selectAll("dot")
 					    //    .data(data)
 					    //    .enter()
 					    //    .append("circle")
 					    //    .attr("r", 5)
 					    //    .attr("cx", function(d){ return x(d[xVal]);})
 					    //    .attr("cy", function(d){ return y(d[yVal]);})
 					    //    .attr("stroke","red")
 							// 	 .attr("fill","orange");

			        // Add the X Axis
			        linesvg.append("g")
			           .attr("transform","translate(0, " + height + ")")
			           .call(d3.axisBottom(x));

			        // Add the Y Axis
			        linesvg.append("g")
			           .call(d3.axisLeft(y));

								 // Add text labels
						     var xLabel = linesvg.append("text")
						                     .attr("class", "label")
						                     .text("x-values")
						                     .attr("x", width - 445)
						                     .attr("y", height + 29);

						     var xLabel = linesvg.append("text")
						                     .attr("class", "label")
						                     .text("y-values")
																 .attr("x",  -232)
						                     .attr("y", -23)
						                     .attr("transform", "rotate(-90)");
					});

        // Put your part five code here ***********************

    </script>
</body>


</html>
